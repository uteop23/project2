<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Askara - Platform AI Video Clipping Profesional</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>

    <style>
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f8fafc; /* bg-slate-50 */
            color: #1e293b; /* bg-slate-800 */
        }
        .hero-gradient { 
            background: linear-gradient(180deg, #eef2ff 0%, #f8fafc 100%);
        }
        .spinner { 
            border-color: #2563eb; /* border-blue-600 */
            border-top-color: transparent; 
            animation: spin 1s linear infinite; 
        }
        @keyframes spin { 
            to { transform: rotate(360deg); } 
        }
        .aspect-9-16 { 
            position: relative; 
            width: 100%; 
            padding-bottom: 177.78%; 
            background-color: #000; 
            border-radius: 0.5rem; 
            overflow: hidden; 
        }
        .aspect-9-16 video { 
            position: absolute; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 border-b border-gray-200">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-slate-800">Askara<span class="text-blue-600">.</span></a>
            <nav class="hidden md:flex items-center space-x-8 text-slate-600 font-medium">
                <a href="#autoclip" class="hover:text-blue-600 transition-colors">Coba Sekarang</a>
                <a href="#fitur" class="hover:text-blue-600 transition-colors">Fitur</a>
                <a href="#faq" class="hover:text-blue-600 transition-colors">FAQ</a>
            </nav>
            <a href="#autoclip" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2.5 rounded-lg transition-all shadow-sm hover:shadow-md">Mulai Gratis</a>
        </div>
    </header>

    <main>
        <section class="hero-gradient pt-20 pb-24">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-4xl md:text-6xl font-extrabold text-slate-900 leading-tight">Ubah Video Panjang Jadi Klip Viral <span class="text-blue-600">Secara Otomatis</span></h1>
                <p class="text-lg md:text-xl text-slate-600 max-w-3xl mx-auto mt-6">Platform AI untuk Kreator, Marketer, dan Agensi. Hemat waktu berjam-jam dengan mengubah webinar, podcast, dan video streaming Anda menjadi puluhan klip pendek siap posting.</p>
                <div class="mt-8 flex justify-center">
                    <a href="#autoclip" class="bg-blue-600 hover:bg-blue-700 text-white font-bold px-8 py-4 rounded-lg transition-all text-lg shadow-lg hover:shadow-xl">Tempel Link & Buat Klip Gratis</a>
                </div>
            </div>
        </section>

        <section id="autoclip" class="py-20">
            <div class="container mx-auto px-6">
                <div id="input-form">
                    <div class="text-center mb-8">
                        <h2 class="text-3xl md:text-4xl font-bold text-slate-900">Mulai dalam Hitungan Detik</h2>
                        <p class="text-slate-500 mt-3">Cukup masukkan tautan video dari YouTube untuk memulai proses AI.</p>
                    </div>
                    <div class="max-w-2xl mx-auto bg-white p-4 rounded-xl shadow-lg border border-gray-200">
                        <div class="flex flex-col sm:flex-row gap-3">
                            <input id="video-url" type="url" placeholder="https://www.youtube.com/watch?v=..." class="w-full px-5 py-3 bg-gray-100 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-slate-800 placeholder-gray-400">
                            <button id="generate-button" class="bg-slate-800 hover:bg-slate-900 text-white font-bold px-8 py-3 rounded-lg transition-all text-lg whitespace-nowrap">Buat Klip</button>
                        </div>
                    </div>
                    <p id="error-message" class="text-red-600 text-center mt-4 hidden">Harap masukkan tautan YouTube yang valid.</p>
                </div>

                <div id="processing-state" class="hidden text-center py-12">
                    <div class="flex justify-center items-center mb-4"><div class="spinner w-12 h-12 rounded-full border-4"></div></div>
                    <h3 id="processing-status" class="text-2xl font-semibold text-slate-800">Memulai proses...</h3>
                    <p class="text-slate-500">Harap tunggu, AI kami sedang bekerja.</p>
                </div>

                <div id="results-section" class="hidden">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-slate-900">Klip Anda Telah Siap!</h2>
                        <p class="text-slate-500 mt-3">Berikut adalah momen-momen terbaik dari video Anda, siap untuk diunduh.</p>
                    </div>
                    <div id="youtube-info" class="max-w-4xl mx-auto bg-white p-4 rounded-lg flex items-center gap-4 mb-8 border border-gray-200 shadow-sm">
                        <i data-lucide="youtube" class="w-10 h-10 text-red-600 flex-shrink-0"></i>
                        <div>
                            <p class="text-sm text-slate-500">Diproses dari YouTube</p>
                            <p id="youtube-title" class="font-semibold text-slate-800"></p>
                        </div>
                    </div>
                    <div id="clips-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>
                </div>
            </div>
        </section>
        
        <section id="fitur" class="py-20 bg-white">...</section>
        <section id="faq" class="py-20">...</section>
    </main>
    <footer class="bg-slate-900 text-white text-center py-6">
        <p class="text-sm">&copy; 2025 Askara. Hak cipta dilindungi.</p>
      </footer>
    <footer class="bg-slate-900 text-white">...</footer>

    <script>
        lucide.createIcons();
        
        // PENTING: URL ini akan diganti nanti setelah backend di-deploy.
        const BACKEND_URL = "https://web-production-93559.up.railway.app"; 

        const generateButton = document.getElementById('generate-button');
        const videoUrlInput = document.getElementById('video-url');
        const inputForm = document.getElementById('input-form');
        const processingState = document.getElementById('processing-state');
        const processingStatus = document.getElementById('processing-status');
        const resultsSection = document.getElementById('results-section');
        const clipsContainer = document.getElementById('clips-container');
        const errorMessage = document.getElementById('error-message');
        const youtubeTitle = document.getElementById('youtube-title');

        generateButton.addEventListener('click', () => {
            const url = videoUrlInput.value;
            if (url && (url.includes('youtube.com') || url.includes('youtu.be'))) {
                errorMessage.classList.add('hidden');
                startProcessing(url);
            } else {
                errorMessage.textContent = 'Harap masukkan tautan YouTube yang valid.';
                errorMessage.classList.remove('hidden');
            }
        });

        async function startProcessing(url) {
            inputForm.classList.add('hidden');
            processingState.classList.remove('hidden');
            processingStatus.textContent = 'Menghubungi server & mengunduh video...';
            
            try {
                const response = await fetch(`${BACKEND_URL}/process-video`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ url: url }),
                });

                if (!response.ok) {
                    const errData = await response.json();
                    throw new Error(errData.error || 'Gagal memproses video.');
                }

                const data = await response.json();
                processingState.classList.add('hidden');
                displayResults(data);

            } catch (error) {
                processingState.classList.add('hidden');
                errorMessage.textContent = `Terjadi kesalahan: ${error.message}`;
                errorMessage.classList.remove('hidden');
                inputForm.classList.remove('hidden');
            }
        }

        function displayResults(data) {
            resultsSection.classList.remove('hidden');
            youtubeTitle.textContent = data.original_title;
            clipsContainer.innerHTML = ''; 

            data.clips.forEach(clip => {
                const clipCard = document.createElement('div');
                clipCard.className = "bg-white rounded-xl overflow-hidden border border-gray-200 flex flex-col shadow-md hover:shadow-xl transition-shadow duration-300";
                
                const videoSrc = `${BACKEND_URL}/clips/${clip.filename}`;
                
                clipCard.innerHTML = `
                    <div class="aspect-9-16">
                        <video src="${videoSrc}" controls loop playsinline></video>
                    </div>
                    <div class="p-4 flex flex-col flex-grow">
                        <h3 class="text-md font-bold text-slate-800 mb-3">${clip.title}</h3>
                        <div class="mt-auto">
                            <a href="${videoSrc}" download class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded-lg transition-colors flex items-center justify-center text-sm">
                                <i data-lucide="download" class="w-4 h-4 mr-2"></i>
                                Unduh Klip
                            </a>
                        </div>
                    </div>
                `;
                clipsContainer.appendChild(clipCard);
            });
            
            lucide.createIcons();
        }
    </script>
</body>
</html>